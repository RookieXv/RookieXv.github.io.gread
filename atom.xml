<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://liuwenxu.com</id>
    <title>Javaé‚£äº›äº‹å„¿</title>
    <updated>2020-04-27T08:19:43.319Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://liuwenxu.com"/>
    <link rel="self" href="https://liuwenxu.com/atom.xml"/>
    <subtitle>å¾®ä¿¡å…¬ä¼—å·ï¼šJavaé‚£äº›äº‹å„¿&lt;br /&gt;&lt;br /&gt;
è®°å½•ä¸€äº›&lt;br /&gt;&lt;br /&gt;
ç¼–ç¨‹çŸ¥è¯†ã€ç”Ÿæ´»çç¢~</subtitle>
    <logo>https://liuwenxu.com/images/avatar.png</logo>
    <icon>https://liuwenxu.com/favicon.ico</icon>
    <rights>All rights reserved 2020, Javaé‚£äº›äº‹å„¿</rights>
    <entry>
        <title type="html"><![CDATA[Javaä¸­å„ç§æ—¶é—´ç±»å‹ç›¸äº’è½¬æ¢]]></title>
        <id>https://liuwenxu.com/wAXk-jYoE/</id>
        <link href="https://liuwenxu.com/wAXk-jYoE/">
        </link>
        <updated>2020-04-26T16:38:19.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜Java ä¸­æ—¶é—´ç±» <strong>Instant</strong>ã€<strong>LocalDateTime</strong>ã€<strong>LocalDate</strong>ã€<strong>Calendar</strong>ã€<strong>Timestamp</strong>ã€<strong>Date</strong>ã€<strong>ZonedDateTime</strong>ä¹‹é—´ç›¸äº’è½¬æ¢</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜Java ä¸­æ—¶é—´ç±» <strong>Instant</strong>ã€<strong>LocalDateTime</strong>ã€<strong>LocalDate</strong>ã€<strong>Calendar</strong>ã€<strong>Timestamp</strong>ã€<strong>Date</strong>ã€<strong>ZonedDateTime</strong>ä¹‹é—´ç›¸äº’è½¬æ¢</p>
<!-- more -->
<blockquote>
<p>Javaä¸­å„ç§æ—¶é—´ç±»å‹ç›¸äº’è½¬æ¢</p>
</blockquote>
<h1 id="å‚æ•°å£°æ˜">å‚æ•°å£°æ˜ï¼š</h1>
<pre><code class="language-java">  final Date date = new Date();
  final Timestamp timestamp = new Timestamp(date.getTime());
  final Calendar calendar = Calendar.getInstance();
  final Instant instant = Instant.now();
  final LocalDateTime localDateTime = LocalDateTime.now();
  final ZonedDateTime zonedDateTime = ZonedDateTime.now();
  final LocalDate localDate = LocalDate.now();
</code></pre>
<h1 id="è½¬instant">è½¬Instant</h1>
<pre><code class="language-java">    //Dateè½¬Instant
    Instant dateInstant = date.toInstant();

    //Timestampè½¬Instant
    Instant timestampInstant = timestamp.toInstant();

    //Calendarè½¬Instant
    Instant calendarInstant = calendar.toInstant();

    //LocalDateTimeè½¬Instant
    Instant localDateTimeInstant = localDateTime.atZone(ZoneId.systemDefault()).toInstant();

    //ZonedDateTimeè½¬Instant
    Instant zonedDateTimeInstant = zonedDateTime.toInstant();

    //LocalDateè½¬Instant
    Instant localDateInstant = localDate.atStartOfDay(ZoneId.systemDefault()).toInstant();
</code></pre>
<h1 id="è½¬localdatetime">è½¬LocalDateTime</h1>
<pre><code class="language-java">    //Dateè½¬LocalDateTime
    LocalDateTime dateLocalDateTime = 	     LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());

    //Timestampè½¬LocalDateTime
    LocalDateTime timestampLocalDateTime = timestamp.toLocalDateTime();

    //Calendarè½¬LocalDateTime
    LocalDateTime calendarLocalDateTime = LocalDateTime.ofInstant(calendar.toInstant(), ZoneOffset.systemDefault());

    //Instantè½¬LocalDateTime
    LocalDateTime instantLocalDateTime = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());

    //ZonedDateTimeè½¬LocalDateTime
    LocalDateTime zonedDateTimeLocalDateTime = zonedDateTime.toLocalDateTime();

    //LocalDateè½¬LocalDateTime
    LocalDateTime localDateLocalDateTime = localDate.atStartOfDay();
</code></pre>
<h1 id="è½¬zoneddatetime">è½¬ZonedDateTime</h1>
<pre><code class="language-java">    //Dateè½¬ZonedDateTime
    ZonedDateTime dateZonedDateTime = ZonedDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());

    //Timestampè½¬ZonedDateTime
    ZonedDateTime timestampZonedDateTime = ZonedDateTime.ofInstant(timestamp.toInstant(), ZoneId.systemDefault());

    //Calendarè½¬ZonedDateTime
    ZonedDateTime calendarZonedDateTime = ZonedDateTime.ofInstant(calendar.toInstant(), ZoneId.systemDefault());

    //Instantè½¬ZonedDateTime
    ZonedDateTime instantZonedDateTime = instant.atZone(ZoneId.systemDefault());

    //LocalDateTimeè½¬ZonedDateTime
    ZonedDateTime localDateTimeZonedDateTime = localDateTime.atZone(ZoneId.systemDefault());

    //LocalDateè½¬ZonedDateTime
    ZonedDateTime localDateZonedDateTime = localDate.atStartOfDay(ZoneId.systemDefault());
</code></pre>
<h1 id="è½¬date">è½¬Date</h1>
<pre><code class="language-java">    //Timestampè½¬Date
    Date timestampDate = new Date(timestamp.getTime());

    //Calendarè½¬Date
    Date calendarDate = calendar.getTime();

    //Instantè½¬Date
    Date instantDate = Date.from(instant);

    //LocalDateTimeè½¬Date
    Date localDateTimeDate = Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());

    //ZonedDateTimeè½¬Date
    Date zonedDateTimeDate = Date.from(zonedDateTime.toInstant());

    //LocalDateè½¬Date
    Date localDateDate = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());
</code></pre>
<h1 id="è½¬timestamp">è½¬Timestamp</h1>
<pre><code class="language-java">    //Dateè½¬Timestamp
    Timestamp dateTimestamp = new Timestamp(date.getTime());

    //Calendarè½¬Timestamp
    Timestamp calendarTimestamp = new Timestamp(calendar.getTimeInMillis());

    //Instantè½¬Timestamp
    Timestamp instantTimestamp = Timestamp.from(instant);

    //LocalDateTimeè½¬Timestamp
    Timestamp localDateTimeTimestamp = Timestamp.valueOf(localDateTime);

    //ZonedDateTimeè½¬Timestamp
    Timestamp zonedDateTimeTimestamp = Timestamp.from(zonedDateTime.toInstant());

    //LocalDateè½¬Timestamp
    Timestamp localDateTimestamp = Timestamp.valueOf(localDate.atStartOfDay());
</code></pre>
<h1 id="è½¬calendar">è½¬Calendar</h1>
<pre><code class="language-java">    //Dateè½¬Calendar
    Calendar dateCalendar = Calendar.getInstance();
    dateCalendar.setTime(date);

    //Timestampè½¬Calendar
    Calendar timestampCalendar = Calendar.getInstance();
    timestampCalendar.setTimeInMillis(timestamp.getTime());

    //Instantè½¬Calendar
    Calendar instantCalendar = GregorianCalendar.from(ZonedDateTime.ofInstant(instant, ZoneId.systemDefault()));

    //LocalDateTimeè½¬Calendar
    Calendar localDateTimeCalendar = GregorianCalendar.from(ZonedDateTime.of(localDateTime, ZoneId.systemDefault()));

    //ZonedDateTimeè½¬Calendar
    Calendar zonedDateTimeInstantCalendar = GregorianCalendar.from(zonedDateTime);

    //LocalDateè½¬Calendar
    Calendar localDateCalendar = GregorianCalendar.from(localDate.atStartOfDay(ZoneId.systemDefault()));
</code></pre>
<h1 id="è½¬localdate">è½¬LocalDate</h1>
<pre><code class="language-java">    //Dateè½¬LocalDate
    LocalDate dateLocalDate = LocalDate.ofInstant(date.toInstant(), ZoneId.systemDefault());  //jdk11

    LocalDate dateLocalDate = LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault()).toLocalDate();

    //Timestampè½¬LocalDate
    LocalDate timestampLocalDate = timestamp.toLocalDateTime().toLocalDate();

    //Calendarè½¬LocalDate
    LocalDate calendarLocalDate = LocalDate.ofInstant(calendar.toInstant(), ZoneOffset.systemDefault());  //jdk11

    LocalDate calendarLocalDate = LocalDateTime.ofInstant(calendar.toInstant(), ZoneOffset.systemDefault()).toLocalDate();

    //Instantè½¬LocalDate
    LocalDate instantLocalDate = LocalDate.ofInstant(instant, ZoneId.systemDefault());  //jdk11

    LocalDate instantLocalDate = LocalDateTime.ofInstant(instant, ZoneId.systemDefault()).toLocalDate();

    //LocalDateTimeè½¬LocalDate
    LocalDate localDateTimeLocalDate = localDateTime.toLocalDate();

    //ZonedDateTimeè½¬LocalDate
    LocalDate zonedDateTimeLocalDate = zonedDateTime.toLocalDate();
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaä¸­è®¡ç®—æ—¥æœŸæ—¶é—´å·®]]></title>
        <id>https://liuwenxu.com/H0sPFJG4g/</id>
        <link href="https://liuwenxu.com/H0sPFJG4g/">
        </link>
        <updated>2020-04-26T16:34:10.000Z</updated>
        <summary type="html"><![CDATA[<p>â±â±æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´æœ‰å¤šå°‘å¤©</p>
]]></summary>
        <content type="html"><![CDATA[<p>â±â±æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´æœ‰å¤šå°‘å¤©</p>
<!-- more -->
<blockquote>
<p>åœ¨ Javaä¸­ï¼Œæˆ‘ä»¬è¦è·å–ä¸€ä¸ªæ—¶é—´æ®µçš„å¤©æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢å‡ ç§æ–¹å¼ï¼š</p>
<ol>
<li>Period                 @since 1.8</li>
<li>Duration            @since 1.8</li>
<li>ChronoUnit       @since 1.8</li>
</ol>
</blockquote>
<h1 id="ä¸€-å‚æ•°å£°æ˜">ä¸€. å‚æ•°å£°æ˜</h1>
<pre><code class="language-java">LocalDate start = LocalDate.of(2020, 1, 1);
LocalDate end = LocalDate.of(2020, 5, 1);
</code></pre>
<h1 id="äºŒperiodç±»">äºŒ.Periodç±»</h1>
<p>ä¸»è¦é€šè¿‡<code>Period</code>ç±»æ–¹æ³•<code>getYears()</code>ï¼Œ<code>getMonths()</code> å’Œ <code>getDays()</code>æ¥è®¡ç®—.</p>
<p>ç¤ºä¾‹:</p>
<pre><code class="language-java">    /**
     * @Author liuwenxu.com (2020-04-26)
     *
     * @param start
     * @param end
     * @return void
     **/
    private static void testPeriod(LocalDate start, LocalDate end) {

        log.info(&quot;startPeriod : {}&quot;, start);
        log.info(&quot;endPeriod : {}&quot;, end);

        Period period = Period.between(start, end);
        log.info(&quot;[{}~{})ä¹‹é—´å…±æœ‰ï¼š{}å¹´,{}æœˆ,{}æ—¥&quot;, start, end, period.getYears(), +period.getMonths(), +period.getDays());
    }
</code></pre>
<p>ç»“æœ:</p>
<pre><code class="language-bash">- startPeriod : 2020-01-01
- endPeriod : 2020-05-01
- [2020-01-01~2020-05-01)ä¹‹é—´å…±æœ‰ï¼š0å¹´,4æœˆ,0æ—¥
</code></pre>
<h1 id="ä¸‰durationç±»">ä¸‰.Durationç±»</h1>
<p>æä¾›äº†ä½¿ç”¨åŸºäºæ—¶é—´çš„å€¼æµ‹é‡æ—¶é—´é‡çš„æ–¹æ³•:</p>
<p>å¤©æ•°ï¼š<code>toDays()</code>;<br>
å°æ—¶ï¼š<code>toHours()</code>;<br>
åˆ†é’Ÿï¼š<code>toMinutes()</code>;<br>
ç§’æ•°ï¼š<code>toMillis()</code>;<br>
çº³ç§’ï¼š<code>toNanos()</code>;</p>
<p>ç¤ºä¾‹: è½¬æ¢æ—¥æœŸæ—¶æå‰ä¸€å¤©</p>
<pre><code class="language-java">    /**
     * @Author liuwenxu.com (2020-04-26)
     *
     * @param start
     * @param end
     * @return void
     **/
    private static void testDuration(LocalDate start, LocalDate end) {

        Instant startInstant = start.atStartOfDay(ZoneId.systemDefault()).toInstant();
        Instant endInstant = end.atStartOfDay(ZoneId.systemDefault()).toInstant();

        log.info(&quot;startInstant : {}&quot;, startInstant);
        log.info(&quot;endInstant : {}&quot;, endInstant);

        Duration between = Duration.between(startInstant, endInstant);
        log.info(&quot;[{}~{})ä¹‹é—´å…±æœ‰ï¼š{}å¤©&quot;, start, end, between.toDays());

    }
</code></pre>
<p>ç»“æœ:</p>
<pre><code class="language-bash">- startInstant : 2019-12-31T16:00:00Z
- endInstant : 2020-04-30T16:00:00Z
- [2020-01-01~2020-05-01)ä¹‹é—´å…±æœ‰ï¼š121å¤©
</code></pre>
<h1 id="å››chronounitç±»">å››.ChronoUnitç±»</h1>
<p>ChronoUnitç±»ä½¿ç”¨<code>between()</code>æ–¹æ³•æ±‚åœ¨å•ä¸ªæ—¶é—´å•ä½å†…æµ‹é‡ä¸€æ®µæ—¶é—´ï¼Œä¾‹å¦‚å¤©æ•°ã€å°æ—¶ã€å‘¨æˆ–ç§’ç­‰ã€‚</p>
<p>ç¤ºä¾‹:</p>
<pre><code class="language-java">	/**
     * @Author liuwenxu.com (2020-04-26)
     *
     * @param start
     * @param end
     * @return void
     **/
    private static void testChronoUnit(LocalDate start, LocalDate end) {
        log.info(&quot;startChronoUnit : {}&quot;, start);
        log.info(&quot;endChronoUnit : {}&quot;, end);

        long daysDiff = ChronoUnit.DAYS.between(start, end);
        log.info(&quot;[{}~{})ä¹‹é—´å…±æœ‰ï¼š{}å¤©&quot;, start, end, daysDiff);

    }
</code></pre>
<p>ç»“æœ:</p>
<pre><code class="language-bash">- startInstant : 2020-01-01
- endInstant : 2020-05-01
- [2020-01-01~2020-05-01)ä¹‹é—´å…±æœ‰ï¼š121å¤©
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è·å–æŒ‡å®šæ—¶é—´å†…æŒ‡å®šæ˜ŸæœŸå‡ çš„æ‰€æœ‰æ—¥æœŸ]]></title>
        <id>https://liuwenxu.com/fOJ3swyxZ/</id>
        <link href="https://liuwenxu.com/fOJ3swyxZ/">
        </link>
        <updated>2020-04-26T12:40:11.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>è¾“å…¥å¼€å§‹æ—¶é—´ï¼Œæˆªæ­¢æ—¶é—´ï¼Œæ˜ŸæœŸå‡ ï¼Œä¸‰ä¸ªå‚æ•°ï¼Œè·å–è¿™ä¸¤ä¸ªæ—¥æœŸä¹‹é—´æŒ‡å®šæ˜ŸæœŸå‡ çš„æ—¥æœŸ</p>
</blockquote>
<h1 id="ä¸€-å‚æ•°å£°æ˜">ä¸€. å‚æ•°å£°æ˜ï¼š</h1>
<pre><code class="language-java">LocalDate start = LocalDate.of(2020, 4, 1);
LocalDate end = LocalDate.of(2020, 5, 1);
int week = 1;
</code></pre>
<h1 id="äºŒ-æµ‹è¯•">äºŒ. æµ‹è¯•ï¼š</h1>
<pre><code class="language-java">/**
 * è·å–æŒ‡å®šæ—¶é—´å†…æ˜ŸæœŸå‡ çš„æ‰€æœ‰æ—¥æœŸ
 * @Author liuwenxu.com (2020-04-26)
 *
 * @param start å¼€å§‹æ—¥æœŸ 2020-04-01
 * @param end   æˆªæ­¢æ—¥æœŸ 2020-05-01
 * @param week  æ˜ŸæœŸå‡  1
 * @return ArrayList&lt;LocalDate&gt; [2020-04-06, 2020-04-13, 2020-04-20, 2020-04-27]
 */
public static List getWeekInTimes(LocalDate start, LocalDate end, int week) {
    ArrayList&lt;LocalDate&gt; list = new ArrayList&lt;&gt;();

    long days = ChronoUnit.DAYS.between(start, end);
    log.info(&quot;[{}~{})ä¹‹é—´å…±æœ‰ï¼š{}å¤©&quot;, start, end, days);

    Calendar startCalender = GregorianCalendar.from(start.atStartOfDay(ZoneId.systemDefault()));
    for (int i = 0; i &lt; days - 1; i++) {
        startCalender.add(Calendar.DATE, 1);

        if (startCalender.get(Calendar.DAY_OF_WEEK) == week + 1) {// 1ä»£è¡¨å‘¨æ—¥ï¼Œ7ä»£è¡¨å‘¨å…­
            list.add(
                    LocalDateTime.ofInstant(
                            startCalender.toInstant(),
                            ZoneOffset.systemDefault()
                    ).toLocalDate()
            );
        }
    }
    log.info(&quot;[{}~{})ä¹‹é—´å…±æœ‰ï¼š{}ä¸ª æ˜ŸæœŸ{}&quot;, start, end, list.size(), week);
    return list;
}
</code></pre>
<h1 id="ä¸‰-ç»“æœ">ä¸‰. ç»“æœ</h1>
<pre><code class="language-bash">- [2020-04-01~2020-05-01)ä¹‹é—´å…±æœ‰ï¼š30å¤©
- [2020-04-01~2020-05-01)ä¹‹é—´å…±æœ‰ï¼š4ä¸ª æ˜ŸæœŸ1
[2020-04-06, 2020-04-13, 2020-04-20, 2020-04-27]
</code></pre>
<h1 id="å››-æ‹“å±•">å››. æ‹“å±•</h1>
<h2 id="è·å–å½“æœˆæ‰€æœ‰å‘¨æœ«çš„æ—¥æœŸ">è·å–å½“æœˆæ‰€æœ‰å‘¨æœ«çš„æ—¥æœŸ</h2>
<pre><code class="language-java">    /**
     * è·å–å½“æœˆçš„æ‰€æœ‰å‘¨æœ«
     * @Author liuwenxu.com (2020-04-26)
     *
     * @param year  2020
     * @param month 4
     * @return 
     */
    public static List getWeekendInMonth(int year, int month) {

        List list = new ArrayList();
        Calendar calendar = Calendar.getInstance();
        calendar.set(Calendar.YEAR, year);// ä¸è®¾ç½®çš„è¯é»˜è®¤ä¸ºå½“å¹´
        calendar.set(Calendar.MONTH, month - 1);// è®¾ç½®æœˆä»½
        calendar.set(Calendar.DAY_OF_MONTH, 1);// è®¾ç½®ä¸ºå½“æœˆç¬¬ä¸€å¤©
        int daySize = calendar.getActualMaximum(Calendar.DAY_OF_MONTH);// å½“æœˆæœ€å¤§å¤©æ•°
        for (int i = 0; i &lt; daySize - 1; i++) {
            calendar.add(Calendar.DATE, 1);//åœ¨ç¬¬ä¸€å¤©çš„åŸºç¡€ä¸ŠåŠ 1
            int week = calendar.get(Calendar.DAY_OF_WEEK);
            if (week == Calendar.SATURDAY || week == Calendar.SUNDAY) {// 1ä»£è¡¨å‘¨æ—¥ï¼Œ7ä»£è¡¨å‘¨å…­ åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªæ˜ŸæœŸçš„ç¬¬å‡ å¤©ä»è€Œåˆ¤æ–­æ˜¯å¦æ˜¯å‘¨æœ«
                list.add(year + &quot;-&quot; + month + &quot;-&quot; + calendar.get(Calendar.DAY_OF_MONTH));// å¾—åˆ°å½“å¤©æ˜¯ä¸€ä¸ªæœˆçš„ç¬¬å‡ å¤©
            }
        }
        return list;
    }
</code></pre>
<h2 id="ç»“æœ">ç»“æœï¼š</h2>
<pre><code class="language-bash">[2020-4-4, 2020-4-5, 2020-4-11, 2020-4-12, 2020-4-18, 2020-4-19, 2020-4-25, 2020-4-26]
</code></pre>
<h1 id="é™„ä»£ç åŸæ–‡ä»¶">é™„ï¼š<a href="https://github.com/RookieXv/mybatis-plus/blob/master/src/main/java/com/example/test_case/GetWeekOfDate.java">ä»£ç åŸæ–‡ä»¶</a></h1>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è‡ªå®šä¹‰Spring Bootå¯åŠ¨å›¾æ¡ˆ]]></title>
        <id>https://liuwenxu.com/LFImdFTEW/</id>
        <link href="https://liuwenxu.com/LFImdFTEW/">
        </link>
        <updated>2020-03-24T08:26:48.000Z</updated>
        <summary type="html"><![CDATA[<p>æ•™ä½ æ€ä¹ˆè‡ªå®šä¹‰ä¿®æ”¹<strong>Spring Boot</strong>é¡¹ç›®å¯åŠ¨å›¾æ¡ˆï¼Œ<br>
å¿«æ¥å­¦å­¦å§ ï¼</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ•™ä½ æ€ä¹ˆè‡ªå®šä¹‰ä¿®æ”¹<strong>Spring Boot</strong>é¡¹ç›®å¯åŠ¨å›¾æ¡ˆï¼Œ<br>
å¿«æ¥å­¦å­¦å§ ï¼</p>
<!-- more -->
<p>åœ¨<code>resources</code>ç›®å½•ä¸‹ï¼Œæ–°å»º<code>banner.txt</code>ï¼Œå°†ä¸‹é¢å†…å®¹æ‹·è´è¿›å»ï¼Œé‡æ–°å¯åŠ¨å³å¯</p>
<pre><code class="language-java">${AnsiColor.BRIGHT_YELLOW}
                                           _ooAoo_
                                          o9999999o
                                          88&quot; . &quot;88
                                          (| -_- |)
                                          O\  =  /O
                                       ____/`---'\____
                                     .'  \\|     |//  `.
                                    /  \\|||  :  |||//  \
                                   /  _||||| -:- |||||-  \
                                   |   | \\\  -  /// |   |
                                   | \_|  ''\---/''  |   |
                                   \  .-\__  `-`  ___/-. /
                                 ___`. .'  /--.--\  `. . __
                              .&quot;&quot; '&lt;  `.___\_&lt;|&gt;_/___.'  &gt;'&quot;&quot;.
                             | | :  `- \`.;`\ _ /`;.`/ - ` : | |
                             \  \ `-.   \_ __\ /__ _/   .-` /  /
                        ======`-.____`-.___\_____/___.-`____.-'======
                                           `=---='
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                   ä½›ç¥–ä¿ä½‘       æ°¸æ— BUG
                    ${AnsiColor.BRIGHT_CYAN}
                    Application Version: ${application.version}${application.formatted-version}
                    Spring Boot Version: ${spring-boot.version}${spring-boot.formatted-version}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç”Ÿæˆé¡¹ç›®ç›®å½•æ ‘]]></title>
        <id>https://liuwenxu.com/wZp6XlKZp/</id>
        <link href="https://liuwenxu.com/wZp6XlKZp/">
        </link>
        <updated>2020-03-24T08:20:48.000Z</updated>
        <summary type="html"><![CDATA[<p>è¿˜åœ¨å›°æƒ‘äºå¤§ç¥åšå®¢ä¸­<strong>é¡¹ç›®ç»“æ„æ ‘</strong>æ˜¯æ€æ ·ç”Ÿæˆçš„å—ï¼Ÿ<br>
å¿«æ¥çœ‹çœ‹å§~</p>
]]></summary>
        <content type="html"><![CDATA[<p>è¿˜åœ¨å›°æƒ‘äºå¤§ç¥åšå®¢ä¸­<strong>é¡¹ç›®ç»“æ„æ ‘</strong>æ˜¯æ€æ ·ç”Ÿæˆçš„å—ï¼Ÿ<br>
å¿«æ¥çœ‹çœ‹å§~</p>
<!-- more -->
<p>æˆ‘ä»¬åœ¨å†™åšå®¢æ—¶ï¼Œç»å¸¸çœ‹åˆ°å¤§ä½¬ä»¬ä¼šæŠŠé¡¹ç›®çš„ç»“æ„ä»¥ä¸‹é¢çš„å½¢å¼ç”»å‡ºæ¥</p>
<pre><code class="language-bash">â”œâ”€src
â”‚  â”œâ”€main
â”‚  â”‚  â”œâ”€java
â”‚  â”‚  â”‚  â””â”€com
â”‚  â”‚  â”‚      â””â”€example
â”‚  â”‚  â”‚          â””â”€mybatisplus
â”‚  â”‚  â”‚              â”œâ”€config
â”‚  â”‚  â”‚              â”œâ”€controller
â”‚  â”‚  â”‚              â”œâ”€entity
â”‚  â”‚  â”‚              â”œâ”€mapper
â”‚  â”‚  â”‚              â””â”€service
â”‚  â”‚  â”‚                  â””â”€impl
â”‚  â”‚  â””â”€resources
â”‚  â”‚      â”œâ”€mapper
â”‚  â”‚      â”‚  â””â”€mybatisplus
â”‚  â”‚      â”œâ”€static
â”‚  â”‚      â””â”€templates
â”‚  â””â”€test
â”‚      â””â”€java
â””â”€target
</code></pre>
<figure data-type="image" tabindex="1"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p>é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåƒå¤§ä½¬ä¸€æ ·ä¼˜ç§€å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨windowsè‡ªå¸¦çš„ <strong>tree</strong> å‘½ä»¤ã€‚</p>
<p>å…¶å®treeå‘½ä»¤ æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„åŠŸèƒ½ã€‚å¯ä»¥æŠŠæŒ‡å®šæ–‡ä»¶å¤¹çš„æ‰€ä»¥æ–‡ä»¶ç”¨æ ‘çŠ¶ç½—åˆ—å‡ºæ¥ã€‚ç„¶åæˆ‘ä»¬æŸ¥çœ‹æ ‘çŠ¶ç»“æ„å°±èƒ½å¤Ÿäº†è§£æœ‰é‚£äº›æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬åœ¨å»æŸ¥çœ‹éœ€è¦å…³å¿ƒçš„æœ‰é‚£äº›æ–‡ä»¶å°±å¯ä»¥äº†ã€‚</p>
<p>ç”¨æ³•ï¼šTREE [d:][path1] [/A][/F] &gt; [d:][path2/pro_tree.txt]</p>
<p>â€‹            â†“             â†“           â†“    â†“                     â†“</p>
<p>è§£è¯»ï¼šå‘½ä»¤   é¡¹ç›®è·¯å¾„   ç¬¦å· æ–‡ä»¶   ç”Ÿæˆçš„<code>tree</code>ä¿å­˜åˆ°æ–‡ä»¶</p>
<p>æˆ‘ä»¬æŒ‰ <em>win</em>+R é”®,è¾“å…¥cmdï¼Œè¿›å…¥é»‘çª—å£ï¼Œé€‰æ‹©è¿›å…¥æˆ‘ä»¬è¦ç”Ÿæˆç›®å½•æ ‘çš„ç›®å½•ä¸‹ï¼Œè¾“å…¥</p>
<pre><code class="language-bash">tree /F
</code></pre>
<figure data-type="image" tabindex="2"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p>å³å¯ç”Ÿæˆå…·ä½“çš„æ–‡ä»¶çš„ç›®å½•æ ‘ï¼Œå¦‚æœåªæƒ³å…·ä½“çš„æ–‡ä»¶å¤¹ï¼Œåˆ™ç›´æ¥è¾“å…¥<code>tree</code>ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®åº“COUNT(*)ã€COUNT(å­—æ®µ)å’ŒCOUNT(1)çš„å¼‚åŒ]]></title>
        <id>https://liuwenxu.com/cxOh2oJTM/</id>
        <link href="https://liuwenxu.com/cxOh2oJTM/">
        </link>
        <updated>2020-03-23T08:15:41.000Z</updated>
        <summary type="html"><![CDATA[<p>å¯¹äºæ•°æ®åº“ä¸­çš„<strong>COUNT</strong>å‡½æ•°ï¼Œä½ äº†è§£å¤šå°‘å‘¢ï¼Ÿ<br>
è¿˜åœ¨å› ä¸ºå¼„ä¸æ¸…<strong>COUNT(*)</strong>ã€**COUNT(å­—æ®µ)<strong>å’Œ</strong>COUNT(1)**è€Œè‹¦æ¼å—ï¼Ÿ<br>
å¿«çœ‹çœ‹è¿™ç¯‡æ–‡ç« å§ï¼</p>
]]></summary>
        <content type="html"><![CDATA[<p>å¯¹äºæ•°æ®åº“ä¸­çš„<strong>COUNT</strong>å‡½æ•°ï¼Œä½ äº†è§£å¤šå°‘å‘¢ï¼Ÿ<br>
è¿˜åœ¨å› ä¸ºå¼„ä¸æ¸…<strong>COUNT(*)</strong>ã€**COUNT(å­—æ®µ)<strong>å’Œ</strong>COUNT(1)**è€Œè‹¦æ¼å—ï¼Ÿ<br>
å¿«çœ‹çœ‹è¿™ç¯‡æ–‡ç« å§ï¼</p>
<!-- more -->
<blockquote>
<p>åœ¨æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ“ä½œä¸­ï¼Œä½¿ç”¨æœ€é¢‘ç¹çš„å°±æ˜¯æŸ¥è¯¢æ“ä½œã€‚è€Œåœ¨æ‰€æœ‰æŸ¥è¯¢æ“ä½œä¸­ï¼Œç»Ÿè®¡æ•°é‡æ“ä½œæ›´æ˜¯ç»å¸¸è¢«ç”¨åˆ°ã€‚</p>
<p>å…³äºæ•°æ®åº“ä¸­è¡Œæ•°ç»Ÿè®¡ï¼Œæ— è®ºæ˜¯MySQLè¿˜æ˜¯Oracleï¼Œéƒ½æœ‰ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½¿ç”¨ï¼Œé‚£å°±æ˜¯<code>COUNT</code>ã€‚</p>
</blockquote>
<h3 id="count">COUNT</h3>
<p>MySQLå®˜ç½‘ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼š</p>
<p>1ã€COUNT(expr) ï¼Œè¿”å›SELECTè¯­å¥æ£€ç´¢çš„è¡Œä¸­exprçš„å€¼ä¸ä¸ºNULLçš„æ•°é‡ã€‚ç»“æœæ˜¯ä¸€ä¸ªBIGINTå€¼ã€‚</p>
<p>2ã€å¦‚æœæŸ¥è¯¢ç»“æœæ²¡æœ‰å‘½ä¸­ä»»ä½•è®°å½•ï¼Œåˆ™è¿”å›0</p>
<p>3ã€ä½†æ˜¯ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>COUNT(*)</code> çš„ç»Ÿè®¡ç»“æœä¸­ï¼Œä¼šåŒ…å«å€¼ä¸ºNULLçš„è¡Œæ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-sql">create table #bla(id int,age int)
insert #student values(null,null)
insert #student values(1,null)
insert #student values(null,1)
insert #student values(1,null)
insert #student values(null,1)
insert #student values(1,null)
insert #student values(null,null)
</code></pre>
<figure data-type="image" tabindex="1"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p>ä½¿ç”¨è¯­å¥count(*),count(id),count(id2)æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-sql">select count(*),count(id),count(age)
from #student
results 7 3 2
</code></pre>
<figure data-type="image" tabindex="2"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p><strong><code>COUNT(å¸¸é‡)</code> å’Œ <code>COUNT(\*)</code>è¡¨ç¤ºçš„æ˜¯ç›´æ¥æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„æ•°æ®åº“è¡¨çš„è¡Œæ•°ã€‚è€Œ<code>COUNT(åˆ—å)</code>è¡¨ç¤ºçš„æ˜¯æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„åˆ—çš„å€¼ä¸ä¸ºNULLçš„è¡Œæ•°ã€‚</strong></p>
<p><strong>è€ŒCOUNT(*)æ˜¯SQL92å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„è¯­æ³•ï¼Œå› ä¸ºä»–æ˜¯æ ‡å‡†è¯­æ³•ï¼Œæ‰€ä»¥MySQLæ•°æ®åº“å¯¹ä»–è¿›è¡Œè¿‡å¾ˆå¤šä¼˜åŒ–ã€‚</strong></p>
<blockquote>
<p>SQL92ï¼Œæ˜¯æ•°æ®åº“çš„ä¸€ä¸ªANSI/ISOæ ‡å‡†ã€‚å®ƒå®šä¹‰äº†ä¸€ç§è¯­è¨€ï¼ˆSQLï¼‰ä»¥åŠæ•°æ®åº“çš„è¡Œä¸ºï¼ˆäº‹åŠ¡ã€éš”ç¦»çº§åˆ«ç­‰ï¼‰ã€‚</p>
</blockquote>
<h3 id="countçš„ä¼˜åŒ–">COUNT(*)çš„ä¼˜åŒ–</h3>
<p>åŒºåˆ†ä¸åŒçš„æ‰§è¡Œå¼•æ“ï¼ŒMySQLä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ‰§è¡Œå¼•æ“å°±æ˜¯InnoDBå’ŒMyISAMã€‚</p>
<p>MyISAMå’ŒInnoDBæœ‰å¾ˆå¤šåŒºåˆ«ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå…³é”®çš„åŒºåˆ«å’Œæˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„COUNT(*)æœ‰å…³ï¼Œé‚£å°±æ˜¯MyISAMä¸æ”¯æŒäº‹åŠ¡ï¼ŒMyISAMä¸­çš„é”æ˜¯è¡¨çº§é”ï¼›è€ŒInnoDBæ”¯æŒäº‹åŠ¡ï¼Œå¹¶ä¸”æ”¯æŒè¡Œçº§é”ã€‚</p>
<p><strong><code>MyISAM</code>åšäº†ä¸€ä¸ªç®€å•çš„ä¼˜åŒ–ï¼Œé‚£å°±æ˜¯å®ƒå¯ä»¥æŠŠè¡¨çš„æ€»è¡Œæ•°å•ç‹¬è®°å½•ä¸‹æ¥ï¼Œå¦‚æœä»ä¸€å¼ è¡¨ä¸­ä½¿ç”¨COUNT(*)è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥è¿”å›è¿™ä¸ªè®°å½•ä¸‹æ¥çš„æ•°å€¼å°±å¯ä»¥äº†ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯ä¸èƒ½æœ‰whereæ¡ä»¶ã€‚</strong></p>
<p><strong><code>InnoDB</code>ä¸­ç´¢å¼•åˆ†ä¸ºèšç°‡ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•ï¼‰å’Œéèšç°‡ç´¢å¼•ï¼ˆéä¸»é”®ç´¢å¼•ï¼‰ï¼Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­ä¿å­˜çš„æ˜¯æ•´è¡Œè®°å½•ï¼Œè€Œéèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­ä¿å­˜çš„æ˜¯è¯¥è¡Œè®°å½•çš„ä¸»é”®çš„å€¼ã€‚</strong></p>
<p><strong>æ‰€ä»¥ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œéèšç°‡ç´¢å¼•è¦æ¯”èšç°‡ç´¢å¼•å°å¾ˆå¤šï¼Œæ‰€ä»¥MySQLä¼šä¼˜å…ˆé€‰æ‹©æœ€å°çš„éèšç°‡ç´¢å¼•æ¥æ‰«è¡¨ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬å»ºè¡¨çš„æ—¶å€™ï¼Œé™¤äº†ä¸»é”®ç´¢å¼•ä»¥å¤–ï¼Œåˆ›å»ºä¸€ä¸ªéä¸»é”®ç´¢å¼•è¿˜æ˜¯æœ‰å¿…è¦çš„ã€‚</strong></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»‹ç»å®Œäº†MySQLæ•°æ®åº“å¯¹äºCOUNT(*)çš„ä¼˜åŒ–ï¼Œè¿™äº›ä¼˜åŒ–çš„å‰æéƒ½æ˜¯æŸ¥è¯¢è¯­å¥ä¸­ä¸åŒ…å«WHEREä»¥åŠGROUP BYæ¡ä»¶ã€‚</p>
<h3 id="count1"><strong>COUNT(1)</strong></h3>
<blockquote>
<p>InnoDB handles SELECT COUNT(*) and SELECT COUNT(1) operations in the same way. There is no performance difference.</p>
</blockquote>
<p><strong>æ‰€ä»¥ï¼Œå¯¹äºCOUNT(1)å’ŒCOUNT(*)ï¼ŒMySQLçš„ä¼˜åŒ–æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ ¹æœ¬ä¸å­˜åœ¨è°æ¯”è°å¿«ï¼</strong></p>
<p>å»ºè®®ä½¿ç”¨<code>COUNT(*)</code>ï¼å› ä¸ºè¿™ä¸ªæ˜¯SQL92å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„è¯­æ³•ï¼Œè€Œä¸”æœ¬æ–‡åªæ˜¯åŸºäºMySQLåšäº†åˆ†æï¼Œå…³äºOracleä¸­çš„è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯ä¼—è¯´çº·çº­çš„å‘¢ã€‚</p>
<h3 id="countå­—æ®µ">COUNT(å­—æ®µ)</h3>
<p>æœ€åï¼Œå°±æ˜¯æˆ‘ä»¬ä¸€ç›´è¿˜æ²¡æåˆ°çš„COUNT(å­—æ®µ)ï¼Œä»–çš„æŸ¥è¯¢å°±æ¯”è¾ƒç®€å•ç²—æš´äº†ï¼Œå°±æ˜¯è¿›è¡Œå…¨è¡¨æ‰«æï¼Œç„¶ååˆ¤æ–­æŒ‡å®šå­—æ®µçš„å€¼æ˜¯ä¸æ˜¯ä¸ºNULLï¼Œä¸ä¸ºNULLåˆ™ç´¯åŠ ã€‚</p>
<p>ç›¸æ¯”<code>COUNT(*)</code>ï¼Œ<code>COUNT(å­—æ®µ)</code>å¤šäº†ä¸€ä¸ªæ­¥éª¤å°±æ˜¯åˆ¤æ–­æ‰€æŸ¥è¯¢çš„å­—æ®µæ˜¯å¦ä¸ºNULLï¼Œæ‰€ä»¥ä»–çš„æ€§èƒ½è¦æ¯”<code>COUNT(*)</code>æ…¢ã€‚</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†COUNTå‡½æ•°çš„ç”¨æ³•ï¼Œä¸»è¦ç”¨äºç»Ÿè®¡è¡¨è¡Œæ•°ã€‚ä¸»è¦ç”¨æ³•æœ‰COUNT(*)ã€COUNT(å­—æ®µ)å’ŒCOUNT(1)ã€‚</p>
<p>å› ä¸ºCOUNT(<em>)æ˜¯SQL92å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„è¯­æ³•ï¼Œæ‰€ä»¥MySQLå¯¹ä»–è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œ<code>MyISAM</code>ä¸­ä¼šç›´æ¥æŠŠè¡¨çš„æ€»è¡Œæ•°å•ç‹¬è®°å½•ä¸‹æ¥ä¾›COUNT(</em>)æŸ¥è¯¢ï¼Œè€ŒInnoDBåˆ™ä¼šåœ¨æ‰«è¡¨çš„æ—¶å€™é€‰æ‹©æœ€å°çš„ç´¢å¼•æ¥é™ä½æˆæœ¬ã€‚å½“ç„¶ï¼Œè¿™äº›ä¼˜åŒ–çš„å‰æéƒ½æ˜¯æ²¡æœ‰è¿›è¡Œwhereå’Œgroupçš„æ¡ä»¶æŸ¥è¯¢ã€‚</p>
<p>åœ¨<code>InnoDB</code>ä¸­COUNT(*)å’ŒCOUNT(1)å®ç°ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œè€Œä¸”æ•ˆç‡ä¸€æ ·ï¼Œä½†æ˜¯COUNT(å­—æ®µ)éœ€è¦è¿›è¡Œå­—æ®µçš„éNULLåˆ¤æ–­ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šä½ä¸€äº›ã€‚</p>
<p>å› ä¸ºCOUNT(<em>)æ˜¯SQL92å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„è¯­æ³•ï¼Œå¹¶ä¸”æ•ˆç‡é«˜ï¼Œæ‰€ä»¥è¯·ç›´æ¥ä½¿ç”¨COUNT(</em>)æŸ¥è¯¢è¡¨çš„è¡Œæ•°ï¼</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQLæ˜¯å¦å…è®¸åœ¨å”¯ä¸€ç´¢å¼•å­—æ®µä¸­æ·»åŠ å¤šä¸ªNULLå€¼]]></title>
        <id>https://liuwenxu.com/mysql-null-unique/</id>
        <link href="https://liuwenxu.com/mysql-null-unique/">
        </link>
        <updated>2020-03-16T15:59:59.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>ä»Šå¤©æ­£åœ¨åƒé¥­ï¼Œä¸€ä¸ªæœ‹å‹æå‡ºäº†ä¸€ä¸ªä»–é¢è¯•ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œ<code>MySQLå…è®¸åœ¨å”¯ä¸€ç´¢å¼•å­—æ®µä¸­æ·»åŠ å¤šä¸ªNULLå€¼</code>ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜å¯¹äºæˆ‘ä¸€ä¸ªéä¸“ä¸šDBAæ¥è¯´ï¼Œä¹Ÿæ²¡ç‰¹åœ°å»éªŒè¯è¿‡ï¼Œæ‰€ä»¥æ­£å¥½å€Ÿæ­¤æœºä¼šéªŒè¯ä¸€ä¸‹ï¼Œåšä¸ªè®°å½•ï¼š</p>
</blockquote>
<h1 id="1-æµ‹è¯•ç¯å¢ƒ">1 æµ‹è¯•ç¯å¢ƒï¼š</h1>
<pre><code class="language-sql">æ•°æ®åº“ï¼šMySQL5.7.25
æ•°æ®åº“å¼•æ“ï¼šInnoDB
è¿æ¥å·¥å…·ï¼šNavicat Premium
</code></pre>
<h1 id="2-å»ºåº“å»ºè¡¨">2 å»ºåº“ï¼Œå»ºè¡¨</h1>
<p>é¦–å…ˆï¼Œåˆ›å»ºæ•°æ®åº“ï¼Œå¹¶åˆ›å»ºæµ‹è¯•è¡¨ testï¼š</p>
<pre><code class="language-sql">DROP TABLE IF EXISTS `test`;
CREATE TABLE `test`  (
  `id` int(11) NOT NULL COMMENT 'ID',
  `name` varchar(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT 'å§“å',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = latin1 COLLATE = latin1_swedish_ci ROW_FORMAT = Dynamic;
</code></pre>
<h1 id="3-æ·»åŠ å”¯ä¸€ç´¢å¼•">3 æ·»åŠ å”¯ä¸€ç´¢å¼•</h1>
<p>ç„¶åï¼Œæˆ‘ä»¬ç»™nameå­—æ®µæ·»åŠ ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼š</p>
<pre><code class="language-sql">ALTER TABLE `test` ADD UNIQUE ( `name`);
</code></pre>
<h1 id="4-æ’å…¥æµ‹è¯•æ•°æ®">4 æ’å…¥æµ‹è¯•æ•°æ®</h1>
<p>æœ€åï¼Œæˆ‘ä»¬å°è¯•æ’å…¥ä¸¤æ¡nameå­—æ®µä¸ºnullçš„æ•°æ®ï¼š</p>
<pre><code class="language-sql">INSERT INTO `test` VALUES (1, NULL);
INSERT INTO `test` VALUES (2, NULL);
</code></pre>
<h1 id="5-ç»“æœ">5 ç»“æœ</h1>
<p>å¹¶æ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜<strong>MySQLå…è®¸åœ¨å”¯ä¸€ç´¢å¼•å­—æ®µä¸­æ·»åŠ å¤šä¸ªNULLå€¼</strong>ã€‚</p>
<p>æ•°æ®è¡¨å¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200316234832732.png" alt="img" loading="lazy"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></p>
<h1 id="6-è§£é‡Š">6 è§£é‡Š</h1>
<h2 id="61-å®˜æ–¹è§£é‡Š">6.1 å®˜æ–¹è§£é‡Š</h2>
<p>MySQLçš„å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„è§£é‡Šä¸ºï¼š</p>
<blockquote>
<p>A UNIQUE index creates a constraint such that all values in the index must be distinct. An error occurs if you try to add a new row with a key value that matches an existing row. <font color=red><strong>This constraint does not apply to NULL values except for the BDB storage engine. For other engines, a UNIQUE index allows multiple NULL values for columns that can contain NULL.</strong></font></p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ­¤çº¦æŸä¸é€‚ç”¨äºé™¤BDBå­˜å‚¨å¼•æ“ä¹‹å¤–çš„ç©ºå€¼ã€‚å¯¹äºå…¶ä»–å¼•æ“ï¼Œå”¯ä¸€ç´¢å¼•å…è®¸åŒ…å«ç©ºå€¼çš„åˆ—æœ‰å¤šä¸ªç©ºå€¼ã€‚</p>
<h2 id="62-ç½‘å‹è§£é‡Š">6.2 ç½‘å‹è§£é‡Š</h2>
<p>ç½‘å‹ç»™å‡ºçš„è§£é‡Šä¸ºï¼š</p>
<blockquote>
<p>åœ¨sql serverä¸­ï¼Œå”¯ä¸€ç´¢å¼•å­—æ®µä¸èƒ½å‡ºç°å¤šä¸ªnullå€¼</p>
<p>åœ¨mysql çš„innodbå¼•æ“ä¸­ï¼Œæ˜¯å…è®¸åœ¨å”¯ä¸€ç´¢å¼•çš„å­—æ®µä¸­å‡ºç°å¤šä¸ªnullå€¼çš„ã€‚</p>
<p>æ ¹æ®NULLçš„å®šä¹‰ï¼Œ<font color=red><strong>NULLè¡¨ç¤ºçš„æ˜¯æœªçŸ¥ï¼Œå› æ­¤ä¸¤ä¸ªNULLæ¯”è¾ƒçš„ç»“æœæ—¢ä¸ç›¸ç­‰ï¼Œä¹Ÿä¸ä¸ç­‰ï¼Œç»“æœä»ç„¶æ˜¯æœªçŸ¥ã€‚</strong></font>æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œå¤šä¸ªNULLå€¼çš„å­˜åœ¨åº”è¯¥ä¸è¿åå”¯ä¸€çº¦æŸï¼Œæ‰€ä»¥æ˜¯åˆç†çš„ï¼Œåœ¨oracelä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
</blockquote>
<p>è¿™ä¸ªè§£é‡Šå¾ˆå½¢è±¡ï¼Œ<u>æ—¢ä¸ç›¸ç­‰ï¼Œä¹Ÿä¸ä¸ç­‰ï¼Œæ‰€ä»¥ç»“æœæœªçŸ¥ã€‚</u></p>
<p>è‡³äºï¼Œsqlserverå’ŒMySQLå…¶ä»–å¼•æ“è¿˜æœ‰å¾…éªŒè¯ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[javaä¸­è·å–ç±»åŠ è½½è·¯å¾„å’Œé¡¹ç›®æ ¹è·¯å¾„çš„5ç§æ–¹æ³•]]></title>
        <id>https://liuwenxu.com/java-dvsdsd/</id>
        <link href="https://liuwenxu.com/java-dvsdsd/">
        </link>
        <updated>2019-11-14T09:28:36.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-java"> import java.io.File;
Â import java.io.IOException;
Â import java.net.URL;
 
Â public class MyUrlDemo {
 
Â  Â  Â 
Â  Â  Â public static void main(String[] args) {
Â  Â  Â  Â  Â MyUrlDemo muDemo = new MyUrlDemo();
Â  Â  Â  Â  Â try {
Â  Â  Â  Â  Â  Â  Â muDemo.showURL();
Â  Â  Â  Â  Â } catch (IOException e) {
Â  Â  Â  Â  Â  Â  Â // TODO Auto-generated catch block
Â  Â  Â  Â  Â  Â  Â e.printStackTrace();
Â  Â  Â  Â  Â }
Â  Â  Â }
 
Â  Â  Â public void showURL() throws IOException {
 
Â  Â  Â  Â  Â // ç¬¬ä¸€ç§ï¼šè·å–ç±»åŠ è½½çš„æ ¹è·¯å¾„ Â  D:\git\daotie\daotie\target\classes
Â  Â  Â  Â  Â File f = new File(this.getClass().getResource(&quot;/&quot;).getPath());
Â  Â  Â  Â  Â System.out.println(f);
 
Â  Â  Â  Â  Â // è·å–å½“å‰ç±»çš„æ‰€åœ¨å·¥ç¨‹è·¯å¾„; å¦‚æœä¸åŠ â€œ/â€ Â è·å–å½“å‰ç±»çš„åŠ è½½ç›®å½• Â D:\git\daotie\daotie\target\classes\my
Â  Â  Â  Â  Â File f2 = new File(this.getClass().getResource(&quot;&quot;).getPath());
Â  Â  Â  Â  Â System.out.println(f2);
 
Â  Â  Â  Â  Â // ç¬¬äºŒç§ï¼šè·å–é¡¹ç›®è·¯å¾„ Â  Â D:\git\daotie\daotie
Â  Â  Â  Â  Â File directory = new File(&quot;&quot;);// å‚æ•°ä¸ºç©º
Â  Â  Â  Â  Â String courseFile = directory.getCanonicalPath();
Â  Â  Â  Â  Â System.out.println(courseFile);
 
Â 
Â  Â  Â  Â  Â // ç¬¬ä¸‰ç§ï¼š Â file:/D:/git/daotie/daotie/target/classes/
Â  Â  Â  Â  Â URL xmlpath = this.getClass().getClassLoader().getResource(&quot;&quot;);
Â  Â  Â  Â  Â System.out.println(xmlpath);
 
Â 
Â  Â  Â  Â  Â // ç¬¬å››ç§ï¼š D:\git\daotie\daotie
Â  Â  Â  Â  Â System.out.println(System.getProperty(&quot;user.dir&quot;));
Â  Â  Â  Â  Â /*
Â  Â  Â  Â  Â  * ç»“æœï¼š C:\Documents and Settings\Administrator\workspace\projectName
Â  Â  Â  Â  Â  * è·å–å½“å‰å·¥ç¨‹è·¯å¾„
Â  Â  Â  Â  Â  */
 
Â  Â  Â  Â  Â // ç¬¬äº”ç§ï¼š Â è·å–æ‰€æœ‰çš„ç±»è·¯å¾„ åŒ…æ‹¬jaråŒ…çš„è·¯å¾„
Â  Â  Â  Â  Â System.out.println(System.getProperty(&quot;java.class.path&quot;));
 
Â  Â  Â }
Â }
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ï¼ˆä¸‰ï¼‰Mybatis-Plusä»£ç ç”Ÿæˆå™¨]]></title>
        <id>https://liuwenxu.com/mybatis-plus-3/</id>
        <link href="https://liuwenxu.com/mybatis-plus-3/">
        </link>
        <updated>2019-09-28T10:38:17.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>ä¸Šä¸€ç¯‡æˆ‘ä»¬å·²ç»æŠŠæ‰€æœ‰éœ€è¦çš„ä¸œè¥¿é…ç½®å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å‡†å¤‡è¿æ¥æ•°æ®åº“ç”Ÿæˆä»£ç ã€‚</p>
</blockquote>
<p>é¦–å…ˆå‡†å¤‡ä¸€å¼ studentè¡¨ï¼š</p>
<pre><code class="language-sql">SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for student
-- ----------------------------
DROP TABLE IF EXISTS `student`;
CREATE TABLE `student`  (
  `id` int(20) NOT NULL AUTO_INCREMENT COMMENT 'å­¦ç”Ÿid',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'å§“å',
  `age` int(11) NULL DEFAULT NULL COMMENT 'å¹´é¾„',
  `is_valid` int(11) NULL DEFAULT NULL COMMENT 'æ˜¯å¦åœ¨è¯»',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;
</code></pre>
<figure data-type="image" tabindex="1"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<h1 id="ä¸€-é…ç½®ä»£ç ç”Ÿæˆå™¨">ä¸€ã€é…ç½®ä»£ç ç”Ÿæˆå™¨</h1>
<blockquote>
<p>Mybatis-Plusçš„ä»£ç ç”Ÿæˆå™¨æ˜¯ä¸éœ€è¦ä¾èµ–springçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨testä¸­æ–°å»ºä¸€ä¸ªç±»<strong>CodeGeneratorDefault</strong></p>
</blockquote>
<h2 id="é»˜è®¤æ¨¡æ¿ç”Ÿæˆ"><strong>é»˜è®¤æ¨¡æ¿ç”Ÿæˆï¼š</strong></h2>
<pre><code class="language-java">import com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;
import com.baomidou.mybatisplus.core.toolkit.StringPool;
import com.baomidou.mybatisplus.core.toolkit.StringUtils;
import com.baomidou.mybatisplus.generator.AutoGenerator;
import com.baomidou.mybatisplus.generator.InjectionConfig;
import com.baomidou.mybatisplus.generator.config.*;
import com.baomidou.mybatisplus.generator.config.po.TableInfo;
import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;
import com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class CodeGeneratorDefault {


    /**
     * &lt;p&gt;
     * è¯»å–æ§åˆ¶å°å†…å®¹
     * &lt;/p&gt;
     */

    public static String scanner(String tip) {
        Scanner scanner = new Scanner(System.in);
        StringBuilder help = new StringBuilder();
        help.append(&quot;è¯·è¾“å…¥&quot; + tip + &quot;ï¼š&quot;);
        System.out.println(help.toString());
        if (scanner.hasNext()) {
            String ipt = scanner.next();
            if (StringUtils.isNotEmpty(ipt)) {
                return ipt;
            }
        }
        throw new MybatisPlusException(&quot;è¯·è¾“å…¥æ­£ç¡®çš„&quot; + tip + &quot;ï¼&quot;);
    }

    public static void main(String[] args) {
        // ä»£ç ç”Ÿæˆå™¨
        AutoGenerator mpg = new AutoGenerator();

        // å…¨å±€é…ç½®
        GlobalConfig gc = new GlobalConfig();
        String projectPath = System.getProperty(&quot;user.dir&quot;);
        gc.setOutputDir(projectPath + &quot;/src/main/java&quot;);
        gc.setAuthor(&quot;liuwenxu&quot;);
        gc.setOpen(false);
        gc.setSwagger2(true); // å®ä½“å±æ€§ Swagger2 æ³¨è§£
        mpg.setGlobalConfig(gc);

        // æ•°æ®æºé…ç½®
        DataSourceConfig dsc = new DataSourceConfig();
        dsc.setUrl(&quot;jdbc:mysql://172.30.7.143:3306/wxyj_sj?serverTimezone=UTC&amp;characterEncoding=utf-8&amp;useSSL=false&quot;);
        // dsc.setSchemaName(&quot;public&quot;);
        dsc.setDriverName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        dsc.setUsername(&quot;wxyj&quot;);
        dsc.setPassword(&quot;123456&quot;);
        mpg.setDataSource(dsc);

        // åŒ…é…ç½®
        PackageConfig pc = new PackageConfig();
        pc.setModuleName(scanner(&quot;æ¨¡å—å&quot;));
        pc.setParent(&quot;com.example&quot;);
        mpg.setPackageInfo(pc);

        // è‡ªå®šä¹‰é…ç½®
        InjectionConfig cfg = new InjectionConfig() {
            @Override
            public void initMap() {
                // to do nothing
            }
        };
        List&lt;FileOutConfig&gt; focList = new ArrayList&lt;&gt;();
        focList.add(new FileOutConfig(&quot;/templates/mapper.xml.ftl&quot;) {
            @Override
            public String outputFile(TableInfo tableInfo) {
                // è‡ªå®šä¹‰è¾“å…¥æ–‡ä»¶åç§°
                return projectPath + &quot;/src/main/resources/mapper/&quot; + pc.getModuleName()
                        + &quot;/&quot; + tableInfo.getEntityName() + &quot;Mapper&quot; + StringPool.DOT_XML;
            }
        });
        cfg.setFileOutConfigList(focList);
        mpg.setCfg(cfg);
        mpg.setTemplate(new TemplateConfig().setXml(null));

        // ç­–ç•¥é…ç½®
        StrategyConfig strategy = new StrategyConfig();
        strategy.setNaming(NamingStrategy.underline_to_camel);
        strategy.setColumnNaming(NamingStrategy.underline_to_camel);
        //strategy.setSuperEntityClass(&quot;com.baomidou.ant.common.BaseEntity&quot;);
        strategy.setEntityLombokModel(true);
        strategy.setRestControllerStyle(true);
        //strategy.setSuperControllerClass(&quot;com.baomidou.ant.common.BaseController&quot;);
        strategy.setInclude(scanner(&quot;è¡¨å&quot;));
        //strategy.setSuperEntityColumns(&quot;id&quot;);
        strategy.setControllerMappingHyphenStyle(true);
        strategy.setTablePrefix(&quot;_&quot;);
        mpg.setStrategy(strategy);
        mpg.setTemplateEngine(new FreemarkerTemplateEngine());
        mpg.execute();
    }
}
</code></pre>
<figure data-type="image" tabindex="2"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p>ç‚¹å‡»è¿è¡Œï¼Œåœ¨è¾“å…¥æ æŒ‰ç…§ä»¥ä¸‹æµç¨‹æ‰§è¡Œå³å¯</p>
<p><img src="https://img-blog.csdnimg.cn/20190926114008477.png" alt="img" loading="lazy"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></p>
<p>æ‰§è¡Œåé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="language-bash">â”œâ”€src
â”‚  â”œâ”€main
â”‚  â”‚  â”œâ”€java
â”‚  â”‚  â”‚  â””â”€com
â”‚  â”‚  â”‚      â””â”€example
â”‚  â”‚  â”‚          â””â”€mybatisplus
â”‚  â”‚  â”‚              â”‚  MybatisPlusApplication.java
â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚              â”œâ”€config
â”‚  â”‚  â”‚              â”‚      SwaggerConfig.java
â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚              â”œâ”€controller
â”‚  â”‚  â”‚              â”‚      StudentController.java
â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚              â”œâ”€entity
â”‚  â”‚  â”‚              â”‚      Student.java
â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚              â”œâ”€mapper
â”‚  â”‚  â”‚              â”‚      StudentMapper.java
â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚              â””â”€service
â”‚  â”‚  â”‚                  â”‚  IStudentService.java
â”‚  â”‚  â”‚                  â”‚
â”‚  â”‚  â”‚                  â””â”€impl
â”‚  â”‚  â”‚                          StudentServiceImpl.java
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€resources
â”‚  â”‚      â”‚  application.yml
â”‚  â”‚      â”‚
â”‚  â”‚      â”œâ”€mapper
â”‚  â”‚      â”‚  â””â”€mybatisplus
â”‚  â”‚      â”‚          StudentMapper.xml
â”‚  â”‚      â”‚
â”‚  â”‚      â”œâ”€static
â”‚  â”‚      â””â”€templates
â”‚  â”‚              controller-mine.java.ftl
â”‚  â”‚              entity-mine.java.ftl
â”‚  â”‚              mapper-mine.java.ftl
â”‚  â”‚              service-mine.java.ftl
â”‚  â”‚              serviceImpl-mine.java.ftl
â”‚  â”‚
â”‚  â””â”€test
â”‚      â””â”€java
â”‚              CodeGenerator.java
â”‚              CodeGeneratorDefault.java
</code></pre>
<figure data-type="image" tabindex="3"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<h2 id="è‡ªå®šä¹‰æ¨¡æ¿ç”Ÿæˆ"><strong>è‡ªå®šä¹‰æ¨¡æ¿ç”Ÿæˆï¼š</strong></h2>
<blockquote>
<p>æœ‰äº›å°ä¼™ä¼´ä¸æ»¡è¶³äºé»˜è®¤æ¨¡æ¿ç”Ÿæˆçš„æ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ¼”ç¤ºè‡ªå®šä¹‰æ¨¡æ¿ï¼š</p>
</blockquote>
<p><strong>1ã€æ·»åŠ freemarkerä¾èµ–ï¼š</strong></p>
<pre><code class="language-bash">&lt;dependency&gt;
    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;
    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;
    &lt;version&gt;2.3.23&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<figure data-type="image" tabindex="4"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p><strong>2ã€ç¼–å†™è‡ªå®šä¹‰æ¨¡æ¿ï¼šï¼ˆæ–‡æœ«æœ‰æºç é“¾æ¥ï¼‰</strong></p>
<pre><code>controller-mine.java.ftl
entity-mine.java.ftl
mapper-mine.java.ftl
service-mine.java.ftl
serviceImpl-mine.java.ftl
</code></pre>
<figure data-type="image" tabindex="5"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<p><strong>3ã€ä¿®æ”¹ä»£ç ç”Ÿæˆå™¨é…ç½®ï¼š</strong></p>
<pre><code class="language-java">import com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;
import com.baomidou.mybatisplus.core.toolkit.StringPool;
import com.baomidou.mybatisplus.core.toolkit.StringUtils;
import com.baomidou.mybatisplus.generator.AutoGenerator;
import com.baomidou.mybatisplus.generator.InjectionConfig;
import com.baomidou.mybatisplus.generator.config.*;
import com.baomidou.mybatisplus.generator.config.po.TableInfo;
import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;
import com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class CodeGenerator {


    /**
     * &lt;p&gt;
     * è¯»å–æ§åˆ¶å°å†…å®¹
     * &lt;/p&gt;
     */

    public static String scanner(String tip) {
        Scanner scanner = new Scanner(System.in);
        StringBuilder help = new StringBuilder();
        help.append(&quot;è¯·è¾“å…¥&quot; + tip + &quot;ï¼š&quot;);
        System.out.println(help.toString());
        if (scanner.hasNext()) {
            String ipt = scanner.next();
            if (StringUtils.isNotEmpty(ipt)) {
                return ipt;
            }
        }
        throw new MybatisPlusException(&quot;è¯·è¾“å…¥æ­£ç¡®çš„&quot; + tip + &quot;ï¼&quot;);
    }

    public static void main(String[] args) {
        // ä»£ç ç”Ÿæˆå™¨
        AutoGenerator mpg = new AutoGenerator();

        // å…¨å±€é…ç½®
        GlobalConfig gc = new GlobalConfig();
        String projectPath = System.getProperty(&quot;user.dir&quot;);
        gc.setOutputDir(projectPath + &quot;/src/main/java&quot;);
        gc.setAuthor(&quot;liuwenxu&quot;);
        gc.setOpen(false);
        gc.setSwagger2(true); // å®ä½“å±æ€§ Swagger2 æ³¨è§£
        mpg.setGlobalConfig(gc);

        // æ•°æ®æºé…ç½®
        DataSourceConfig dsc = new DataSourceConfig();
        dsc.setUrl(&quot;jdbc:mysql://172.30.7.143:3306/wxyj_sj?serverTimezone=UTC&amp;characterEncoding=utf-8&amp;useSSL=false&quot;);
        // dsc.setSchemaName(&quot;public&quot;);
        dsc.setDriverName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        dsc.setUsername(&quot;wxyj&quot;);
        dsc.setPassword(&quot;123456&quot;);
        mpg.setDataSource(dsc);

        // åŒ…é…ç½®
        PackageConfig pc = new PackageConfig();
        pc.setModuleName(scanner(&quot;æ¨¡å—å&quot;));
        pc.setParent(&quot;com.example&quot;);
        mpg.setPackageInfo(pc);

        // è‡ªå®šä¹‰é…ç½®
        InjectionConfig cfg = new InjectionConfig() {
            @Override
            public void initMap() {
                // to do nothing
            }
        };
        List&lt;FileOutConfig&gt; focList = new ArrayList&lt;&gt;();
        focList.add(new FileOutConfig(&quot;/templates/mapper.xml.ftl&quot;) {
            @Override
            public String outputFile(TableInfo tableInfo) {
                // è‡ªå®šä¹‰è¾“å…¥æ–‡ä»¶åç§°
                return projectPath + &quot;/src/main/resources/mapper/&quot; + pc.getModuleName()
                        + &quot;/&quot; + tableInfo.getEntityName() + &quot;Mapper&quot; + StringPool.DOT_XML;
            }
        });
        cfg.setFileOutConfigList(focList);
        mpg.setCfg(cfg);

        // é…ç½®æ¨¡æ¿
        TemplateConfig templateConfig = new TemplateConfig();

        // é…ç½®è‡ªå®šä¹‰è¾“å‡ºæ¨¡æ¿
        //æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼Œæ³¨æ„ä¸è¦å¸¦ä¸Š.ftl/.vm, ä¼šæ ¹æ®ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“è‡ªåŠ¨è¯†åˆ«
        templateConfig.setEntity(&quot;templates/entity-mine.java&quot;);
        templateConfig.setMapper(&quot;templates/mapper-mine.java&quot;);
        templateConfig.setService(&quot;templates/service-mine.java&quot;);
        templateConfig.setServiceImpl(&quot;templates/serviceImpl-mine.java&quot;);
        templateConfig.setController(&quot;templates/controller-mine.java&quot;);
        templateConfig.setXml(null);
        mpg.setTemplate(templateConfig);

        // ç­–ç•¥é…ç½®
        StrategyConfig strategy = new StrategyConfig();
        strategy.setNaming(NamingStrategy.underline_to_camel);
        strategy.setColumnNaming(NamingStrategy.underline_to_camel);
        //strategy.setSuperEntityClass(&quot;com.baomidou.ant.common.BaseEntity&quot;);
        strategy.setEntityLombokModel(true);
        strategy.setRestControllerStyle(true);
        //strategy.setSuperControllerClass(&quot;com.baomidou.ant.common.BaseController&quot;);
        strategy.setInclude(scanner(&quot;è¡¨å&quot;));
        //strategy.setSuperEntityColumns(&quot;id&quot;);
        strategy.setControllerMappingHyphenStyle(true);
        strategy.setTablePrefix(&quot;_&quot;);
        mpg.setStrategy(strategy);
        mpg.setTemplateEngine(new FreemarkerTemplateEngine());
        mpg.execute();
    }
}
</code></pre>
<h1 id="äºŒ-æ€»ç»“">äºŒã€æ€»ç»“</h1>
<p>è‡³æ­¤ï¼Œ<code>mybatis plus</code> çš„åŸºç¡€ä½¿ç”¨å·²ç»ä»‹ç»å®Œäº†ï¼Œåé¢æˆ‘å°†é™†ç»­ä¸ºå¤§å®¶ä»‹ç»å¥¹çš„é«˜çº§ç”¨æ³•ï¼Œæ”¶è—ä¸€ä¸‹å§ï¼</p>
<h2 id="é™„é¡¹ç›®æºç ">é™„ï¼š<a href="https://github.com/RookieXv/mybatis-plus">é¡¹ç›®æºç </a></h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ï¼ˆäºŒï¼‰Mybatis-Plusçš„å®‰è£…é…ç½®]]></title>
        <id>https://liuwenxu.com/mybatis-plus-2/</id>
        <link href="https://liuwenxu.com/mybatis-plus-2/">
        </link>
        <updated>2019-09-27T01:41:21.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬è®¤è¯†äº†Mybatis-Plusï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä¸€èµ·å­¦ä¹ Mybatis-Plusåœ¨é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ã€‚</p>
</blockquote>
<p><strong>é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="language-bash">  src
   â”œâ”€main
   â”‚  â”œâ”€java
   â”‚  â”‚  â””â”€com
   â”‚  â”‚      â””â”€example
   â”‚  â”‚          â””â”€mybatisplus
   â”‚  â”‚              â””â”€config
   â”‚  â””â”€resources
   â”‚      â”œâ”€static
   â”‚      â””â”€templates
   â””â”€test
       â””â”€java
           â””â”€com
               â””â”€example
                   â””â”€mybatisplus
</code></pre>
<figure data-type="image" tabindex="1"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"></figure>
<h1 id="ä¸€-å®‰è£…">ä¸€ã€å®‰è£…</h1>
<p>å…¨æ–°çš„ <code>MyBatis-Plus</code> 3.0 ç‰ˆæœ¬åŸºäº JDK8ï¼Œæä¾›äº† <code>lambda</code> å½¢å¼çš„è°ƒç”¨ï¼Œæ‰€ä»¥å®‰è£…é›†æˆ MP3.0 è¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>JDK 8+</li>
<li>Maven</li>
</ul>
<p>JDK7 ä»¥åŠä¸‹çš„è¯·å‚è€ƒ MP2.0 ç‰ˆæœ¬å®˜æ–¹æ–‡æ¡£ï¼Œåœ°å€ï¼š<a href="https://baomidou.gitee.io/mybatis-plus-doc/#/">2.0 æ–‡æ¡£</a></p>
<p>æˆ‘ä»¬åœ¨è¯¥é¡¹ç›®ä¸­é›†æˆäº†mybatis-plusï¼Œlombokï¼Œswaggerï¼Œé›†ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<h2 id="spring-boot"># Spring Boot</h2>
<p>Mavenï¼š</p>
<pre><code class="language-java">&lt;properties&gt;
    &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;spring-boot.version&gt;2.0.5.RELEASE&lt;/spring-boot.version&gt;
    &lt;mybatis-plus.version&gt;3.0-RELEASE&lt;/mybatis-plus.version&gt;
    &lt;swagger.version&gt;2.9.2&lt;/swagger.version&gt;
    &lt;lombok.version&gt;1.16.10&lt;/lombok.version&gt;
&lt;/properties&gt;
</code></pre>
<pre><code class="language-bash">&lt;!-- è¿æ¥mysql --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- mybatis-plus --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${mybatis-plus.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- lombok --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;${lombok.version}&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- swaggeré…ç½® --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
    &lt;version&gt;${swagger.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
    &lt;version&gt;${swagger.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h2 id="spring-mvc"># Spring MVC</h2>
<p>Maven:</p>
<pre><code class="language-bash">&lt;!-- mybatis-plus --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus&lt;/artifactId&gt;
    &lt;version&gt;${mybatis-plus.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- è¿æ¥mysql --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- lombok --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;${lombok.version}&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- swaggeré…ç½® --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
    &lt;version&gt;${swagger.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
    &lt;version&gt;${swagger.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<hr>
<p>å¼•å…¥ <code>MyBatis-Plus</code> ä¹‹åè¯·ä¸è¦å†æ¬¡å¼•å…¥ <code>MyBatis</code> ä»¥åŠ <code>MyBatis-Spring</code>ï¼Œä»¥é¿å…å› ç‰ˆæœ¬å·®å¼‚å¯¼è‡´çš„é—®é¢˜ã€‚</p>
<h1 id="äºŒ-é…ç½®">äºŒã€é…ç½®</h1>
<p>MyBatis-Plus çš„é…ç½®å¼‚å¸¸çš„ç®€å•ï¼Œæˆ‘ä»¬ä»…éœ€è¦ä¸€äº›ç®€å•çš„é…ç½®å³å¯ä½¿ç”¨ MyBatis-Plus çš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h2 id="spring-boot-2"># Spring Boot</h2>
<h3 id="é…ç½®-mapperscan-æ³¨è§£"><strong>é…ç½® MapperScan æ³¨è§£</strong></h3>
<pre><code class="language-java">@SpringBootApplication
@MapperScan(&quot;com.example.mybatis-plus.**.mapper&quot;)
public class MybatisPlusApplication {

    public static void main(String[] args) {
        SpringApplication.run(MybatisPlusApplication.class, args);
    }

}
</code></pre>
<h3 id="é…ç½®applicationyml"><strong>é…ç½®application.yml</strong></h3>
<pre><code class="language-bash">mybatis-plus:
  # xmlåœ°å€
  mapper-locations: classpath*:mapper/*/*Mapper.xml
  # å®ä½“æ‰«æï¼Œå¤šä¸ªpackageç”¨é€—å·æˆ–è€…åˆ†å·åˆ†éš” #è‡ªå·±çš„å®ä½“ç±»åœ°å€
  type-aliases-package: com.example.mybatis-plus
  configuration:
    # è¿™ä¸ªé…ç½®ä¼šå°†æ‰§è¡Œçš„sqlæ‰“å°å‡ºæ¥ï¼Œåœ¨å¼€å‘æˆ–æµ‹è¯•çš„æ—¶å€™å¯ä»¥ç”¨
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    #å¼€å¯é©¼å³°å‘½åæ³•
    map-underscore-to-camel-case: true
</code></pre>
<h2 id="spring-mvc-2"># Spring MVC</h2>
<ul>
<li>
<h3 id="é…ç½®-mapperscan"><strong>é…ç½® MapperScan</strong></h3>
</li>
</ul>
<pre><code class="language-bash">&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;property name=&quot;basePackage&quot; value=&quot;com.baomidou.mybatisplus.samples.quickstart.mapper&quot;/&gt;
&lt;/bean&gt;
</code></pre>
<ul>
<li>
<h3 id="è°ƒæ•´-sqlsessionfactory-ä¸º-mybatis-plus-çš„-sqlsessionfactory"><strong>è°ƒæ•´ SqlSessionFactory ä¸º MyBatis-Plus çš„ SqlSessionFactory</strong></h3>
</li>
</ul>
<pre><code class="language-bash">&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
&lt;/bean&gt;
</code></pre>
<p>é€šå¸¸æ¥è¯´ï¼Œä¸€èˆ¬çš„ç®€å•å·¥ç¨‹ï¼Œé€šè¿‡ä»¥ä¸Šé…ç½®å³å¯æ­£å¸¸ä½¿ç”¨ MyBatis-Plusã€‚</p>
<h2 id="swaggeré…ç½®"># swaggeré…ç½®</h2>
<pre><code class="language-java">package com.example.mybatisplus.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.service.Contact;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

/**
 * Copyright (C), 2016-2019, Mobius-Vision
 * FileName: SwaggerConfig
 * Author: liuwenxu
 * Date: 2019/7/10 14:59
 * Description: æ¥å£æ–‡æ¡£è¯´æ˜  http://localhost:8089/swagger-ui.html#/
 */
@Configuration
@EnableSwagger2
public class SwaggerConfig {
    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.mybatis-plus.controller&quot;))
                .paths(PathSelectors.any())
                .build();
    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title(&quot;mybatis-plus&quot;)
                .description(&quot;mybatis-plus&quot;)
                .contact(new Contact(&quot;liuwenxu&quot;, &quot;&quot;, &quot;&quot;))
                .version(&quot;2.0&quot;)
                .build();
    }

}
 
</code></pre>
]]></content>
    </entry>
</feed>